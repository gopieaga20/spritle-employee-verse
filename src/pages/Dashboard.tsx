
import React from 'react';
import { Link } from 'react-router-dom';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { departments } from '@/data/mockData';
import { toast } from 'sonner';
import { 
  Building, 
  TrendingUp, 
  DollarSign, 
  HelpCircle,
  Code,
  Puzzle, // Changed from PuzzlePiece
  BarChart2,
  CheckCircle,
  Database,
  Cloud,
  Megaphone // Changed from SpeakerLoud
} from 'lucide-react';

// Map department icons to Lucide components
const getDepartmentIcon = (iconName: string) => {
  const iconMap: Record<string, React.ReactNode> = {
    'building': <Building className="h-6 w-6" />,
    'trending-up': <TrendingUp className="h-6 w-6" />,
    'megaphone': <Megaphone className="h-6 w-6" />, // Updated to use available icon
    'dollar-sign': <DollarSign className="h-6 w-6" />,
    'help-circle': <HelpCircle className="h-6 w-6" />,
    'puzzle': <Puzzle className="h-6 w-6" />, // Updated to use available icon
    'bar-chart-2': <BarChart2 className="h-6 w-6" />,
    'code': <Code className="h-6 w-6" />,
    'check-circle': <CheckCircle className="h-6 w-6" />,
    'database': <Database className="h-6 w-6" />,
    'cloud': <Cloud className="h-6 w-6" />
  };

  return iconMap[iconName] || <Building className="h-6 w-6" />;
};

const Dashboard = () => {
  return (
    <div className="space-y-6 animate-fade-in">
      <div>
        <h1 className="text-3xl font-bold tracking-tight">Dashboard</h1>
        <p className="text-muted-foreground">
          Welcome to Spritle Employee Verse - your hub for AI tools and resources.
        </p>
      </div>
      
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
        {departments.map((department) => (
          <Link 
            key={department.id} 
            to={`/department/${department.id}`}
            className="hover-card"
          >
            <Card className={`h-full border-l-4 ${department.color.split(' ')[0]} transition-all`}>
              <CardHeader className="flex flex-row items-center justify-between pb-2 space-y-0">
                <CardTitle className="text-lg font-medium">
                  {department.name}
                </CardTitle>
                <div className={`${department.color}`}>
                  {getDepartmentIcon(department.icon)}
                </div>
              </CardHeader>
              <CardContent>
                <CardDescription>{department.description}</CardDescription>
              </CardContent>
            </Card>
          </Link>
        ))}
      </div>

      <Card className="mt-6">
        <CardHeader>
          <CardTitle>Quick Tips</CardTitle>
          <CardDescription>
            Here are some helpful tips to get you started
          </CardDescription>
        </CardHeader>
        <CardContent className="grid gap-4">
          <div className="flex items-start gap-4">
            <div className="rounded-full p-2 bg-blue-100 dark:bg-blue-900 text-spritle-blue">
              <svg
                width="15"
                height="15"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="h-5 w-5"
              >
                <path
                  d="M7.5 0.875C5.49797 0.875 3.875 2.49797 3.875 4.5C3.875 6.15288 4.98124 7.54738 6.49373 7.98351C5.2997 8.12901 4.27557 8.55134 3.50407 9.31167C2.52216 10.2794 2.02502 11.72 2.02502 13.5999C2.02502 13.8623 2.23769 14.0749 2.50002 14.0749C2.76236 14.0749 2.97502 13.8623 2.97502 13.5999C2.97502 11.8799 3.42786 10.7206 4.17091 9.9883C4.91536 9.25463 6.02674 8.87499 7.49995 8.87499C8.97317 8.87499 10.0846 9.25463 10.8291 9.98831C11.5721 10.7206 12.025 11.8799 12.025 13.5999C12.025 13.8623 12.2376 14.0749 12.5 14.0749C12.7623 14.075 12.975 13.8623 12.975 13.6C12.975 11.72 12.4778 10.2794 11.4959 9.31166C10.7244 8.55135 9.70025 8.12903 8.50625 7.98352C10.0187 7.5474 11.125 6.15289 11.125 4.5C11.125 2.49797 9.50203 0.875 7.5 0.875ZM4.825 4.5C4.825 3.02264 6.02264 1.825 7.5 1.825C8.97736 1.825 10.175 3.02264 10.175 4.5C10.175 5.97736 8.97736 7.175 7.5 7.175C6.02264 7.175 4.825 5.97736 4.825 4.5Z"
                  fill="currentColor"
                  fillRule="evenodd"
                  clipRule="evenodd"
                ></path>
              </svg>
            </div>
            <div className="space-y-1">
              <h4 className="text-sm font-medium leading-none">Access Tools by Department</h4>
              <p className="text-sm text-muted-foreground">
                Click on a department card to see all available tools for that department.
              </p>
            </div>
          </div>
          <div className="flex items-start gap-4">
            <div className="rounded-full p-2 bg-green-100 dark:bg-green-900 text-spritle-green">
              <svg
                width="15"
                height="15"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="h-5 w-5"
              >
                <path
                  d="M7.49991 0.877045C3.84222 0.877045 0.877045 3.84222 0.877045 7.49991C0.877045 11.1576 3.84222 14.1228 7.49991 14.1228C11.1576 14.1228 14.1228 11.1576 14.1228 7.49991C14.1228 3.84222 11.1576 0.877045 7.49991 0.877045ZM1.82704 7.49991C1.82704 4.36689 4.36689 1.82704 7.49991 1.82704C10.6329 1.82704 13.1728 4.36689 13.1728 7.49991C13.1728 10.6329 10.6329 13.1728 7.49991 13.1728C4.36689 13.1728 1.82704 10.6329 1.82704 7.49991ZM8.24992 4.49999C8.24992 4.9142 7.91413 5.24999 7.49992 5.24999C7.08571 5.24999 6.74992 4.9142 6.74992 4.49999C6.74992 4.08577 7.08571 3.74999 7.49992 3.74999C7.91413 3.74999 8.24992 4.08577 8.24992 4.49999ZM6.00003 5.99999H6.50003H7.50003C7.77618 5.99999 8.00003 6.22384 8.00003 6.49999V9.99999H8.50003H9.00003V11H8.50003H7.50003H6.50003H6.00003V9.99999H6.50003H7.00003V6.99999H6.50003H6.00003V5.99999Z"
                  fill="currentColor"
                  fillRule="evenodd"
                  clipRule="evenodd"
                ></path>
              </svg>
            </div>
            <div className="space-y-1">
              <h4 className="text-sm font-medium leading-none">Bookmark Your Favorite Tools</h4>
              <p className="text-sm text-muted-foreground">
                Click the star icon on any tool card to save it to your bookmarks for quick access.
              </p>
            </div>
          </div>
          <div className="flex items-start gap-4">
            <div className="rounded-full p-2 bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300">
              <svg
                width="15"
                height="15"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="h-5 w-5"
              >
                <path
                  d="M8.51194 3.00541C9.18829 2.54594 10.0435 2.53694 10.6788 2.95491C10.8231 3.04693 10.9771 3.1893 11.389 3.60109C11.8009 4.01287 11.9432 4.16683 12.0353 4.31111C12.4532 4.94647 12.4442 5.80169 11.9848 6.47804C11.8489 6.68922 11.6674 6.88368 11.2596 7.29148L9.75919 8.79189C9.59249 8.95859 9.50914 9.04194 9.41626 9.09006C9.19998 9.20034 8.94866 9.18031 8.75206 9.03516C8.64873 8.95976 8.56538 8.83816 8.39868 8.59495L6.40538 5.60331C6.16217 5.23686 6.04057 5.05364 6.01547 4.86487C5.97556 4.55681 6.12178 4.25882 6.39272 4.10297C6.5387 4.01982 6.76966 4.03838 7.23158 4.0755L8.21521 4.15077C8.32626 4.16047 8.38178 4.16532 8.43739 4.16994C8.46827 4.17271 8.49894 4.17541 8.53207 4.17541C8.56519 4.17541 8.59586 4.17271 8.62674 4.16994C8.68235 4.16532 8.73787 4.16047 8.84892 4.15077L10.3248 4.01842C10.4474 4.00791 10.5087 4.00265 10.5352 3.98635C10.5746 3.96081 10.6052 3.92493 10.6212 3.88273C10.6307 3.85405 10.6307 3.79213 10.6307 3.66827V3.01443C10.6307 2.79445 10.6307 2.68446 10.5851 2.64919C10.5213 2.59935 10.4413 2.57451 10.3606 2.58271C10.3171 2.58751 10.2255 2.62612 10.0423 2.70332C9.56439 2.90637 9.32544 3.00789 9.14076 3.02683C8.81822 3.06222 8.50416 2.91126 8.33216 2.63951C8.24926 2.49929 8.24926 2.27189 8.24926 1.81709V1.09047C8.24926 0.815436 8.24926 0.678365 8.21399 0.632866C8.16414 0.569033 8.08408 0.544189 8.00344 0.552388C7.95535 0.55719 7.86535 0.615428 7.68534 0.732V0.732001C7.40263 0.91569 7.26128 1.00753 7.16175 1.13057C6.96115 1.37407 6.85986 1.68085 6.88105 1.99172C6.8917 2.13025 6.94707 2.26531 7.05781 2.53542L8.51194 3.00541ZM7.78161 7.51221L6.22741 9.06642C5.73361 9.56022 5.48671 9.80712 5.20785 9.93137C4.89072 10.0761 4.54811 10.1235 4.21358 10.0683C3.92654 10.0221 3.64823 9.89507 3.09162 9.64107C2.17942 9.20522 1.72351 8.98729 1.35873 8.98537C1.23936 8.98471 1.1205 9.00447 1.00607 9.0438C0.632559 9.17389 0.310864 9.43861 0.094887 9.79529C0 9.95357 0 10.1571 0 10.5642V13.4357C0 13.8428 0 14.0464 0.094887 14.2046C0.310864 14.5613 0.632559 14.826 1.00607 14.9561C1.1205 14.9954 1.23936 15.0152 1.35873 15.0145C1.72351 15.0126 2.17942 14.7947 3.09162 14.3589C3.64823 14.1049 3.92654 13.9779 4.21358 13.9316C4.54811 13.8764 4.89072 13.9238 5.20785 14.0686C5.48671 14.1928 5.73361 14.4397 6.22741 14.9335L7.78161 16.4877C8.27541 16.9815 8.52231 17.2284 8.80117 17.3526C9.1183 17.4974 9.46091 17.5448 9.79544 17.4896C10.0825 17.4434 10.3608 17.3164 10.9174 17.0624C11.8296 16.6266 12.2855 16.4086 12.6503 16.4067C12.7697 16.4061 12.8885 16.4258 13.0029 16.4652C13.3764 16.5953 13.6981 16.86 13.9141 17.2167C14.009 17.3749 14.009 17.5785 14.009 17.9856V18.9999C14.009 19.5522 13.5613 19.9999 13.009 19.9999C12.4567 19.9999 12.009 19.5522 12.009 18.9999V18.02C12.009 17.9178 12.009 17.8668 11.9989 17.8456C11.9819 17.8105 11.951 17.7828 11.9137 17.7669C11.889 17.7564 11.8351 17.7564 11.7274 17.7564H11.6553C11.6354 17.7564 11.6257 17.7564 11.6161 17.7566C11.3865 17.7791 11.1813 17.9203 11.0647 18.1281L11.022 18.199C10.8688 18.4597 10.7921 18.59 10.6826 18.6547C10.5212 18.7481 10.3322 18.7819 10.1502 18.7496C10.0343 18.7284 9.90139 18.6299 9.63561 18.4328L9.01509 18.0061C8.98336 17.9831 8.96749 17.9717 8.95226 17.9618C8.76492 17.8346 8.67127 17.5882 8.7061 17.3446C8.71291 17.3141 8.72455 17.2846 8.74782 17.2252L8.92935 16.7496C8.96019 16.6724 8.97562 16.6338 8.98369 16.5941C9.01318 16.4398 8.96566 16.2812 8.85845 16.1739C8.82442 16.1399 8.77463 16.1142 8.67505 16.0629L5.8345 14.6368C5.73872 14.5873 5.69083 14.5625 5.64643 14.5442C5.20675 14.3711 4.70948 14.4219 4.31835 14.6816C4.27765 14.7094 4.23648 14.7502 4.15415 14.8317L3.44845 15.5374C3.36761 15.6182 3.32719 15.6586 3.29556 15.6795C3.14963 15.7712 2.96288 15.7728 2.81581 15.6831C2.78362 15.6628 2.74211 15.6229 2.6591 15.5432C2.54729 15.4361 2.49138 15.3825 2.45485 15.3342C2.30609 15.14 2.26304 14.8844 2.33963 14.6509C2.35906 14.5921 2.39451 14.5346 2.46542 14.4196C2.4853 14.3879 2.49524 14.372 2.50295 14.3599C2.64834 14.1395 2.6723 13.8647 2.55834 13.6225C2.54662 13.5952 2.52828 13.5694 2.49159 13.5178V13.5178C2.45216 13.4618 2.43245 13.4338 2.41711 13.4101C2.3363 13.2876 2.20934 13.1949 2.06534 13.1529C2.03951 13.1454 2.0097 13.1413 1.95008 13.1329C1.89424 13.1251 1.8663 13.1211 1.8412 13.1152C1.62436 13.0593 1.43813 12.9225 1.32379 12.7327C1.31646 12.7208 1.3114 12.7041 1.30128 12.6707L1.2391 12.4844C1.23296 12.4659 1.22988 12.4566 1.22771 12.4479C1.20939 12.3812 1.20006 12.3121 1.20006 12.2427C1.20006 12.2058 1.20211 12.1681 1.20622 12.1315C1.20803 12.1159 1.21072 12.0983 1.21609 12.0632L1.30385 11.5461C1.31043 11.5021 1.31371 11.4801 1.31604 11.4617C1.33905 11.3108 1.26189 11.1632 1.12766 11.0863C1.10855 11.0758 1.08509 11.0667 1.03819 11.0486L1.03818 11.0486C0.83506 10.9725 0.733502 10.9344 0.677646 10.8724C0.602663 10.7897 0.58296 10.6768 0.625377 10.576C0.644248 10.5257 0.700416 10.4376 0.812752 10.2613C0.92846 10.0802 0.98631 9.98971 1.03108 9.91829C1.20138 9.64759 1.51317 9.49988 1.83001 9.53138C1.91418 9.53966 2.01255 9.56574 2.2093 9.61789L3.59328 10.0115C3.79003 10.0636 3.88841 10.0897 3.96229 10.0912C4.1398 10.0955 4.3041 10.0126 4.39459 9.87057C4.42833 9.81984 4.45051 9.7253 4.49487 9.53623C4.50941 9.47313 4.51669 9.44159 4.52171 9.41782C4.61313 9.09747 4.919 8.87659 5.25589 8.87659C5.29791 8.87659 5.34078 8.88194 5.42651 8.89263L5.42652 8.89263C5.4385 8.89413 5.44167 8.89462 5.44477 8.89509C5.51242 8.90514 5.55333 8.91028 5.58835 8.91432C5.77249 8.93403 5.95206 8.85787 6.0673 8.71698C6.09735 8.67807 6.12041 8.62552 6.16654 8.52042L6.16655 8.52041C6.19375 8.45637 6.20735 8.42435 6.21784 8.39668C6.35261 8.09528 6.67026 7.91949 6.9905 7.95221C7.03202 7.95728 7.07363 7.96659 7.15684 7.9852C7.36608 8.02992 7.57532 8.07465 7.78161 7.51221Z"
                  fill="currentColor"
                  fillRule="evenodd"
                  clipRule="evenodd"
                ></path>
              </svg>
            </div>
            <div className="space-y-1">
              <h4 className="text-sm font-medium leading-none">Need Help? Use the AI Assistant</h4>
              <p className="text-sm text-muted-foreground">
                Click the chat icon in the bottom right to get help finding the right tools.
              </p>
            </div>
          </div>
        </CardContent>
      </Card>
    </div>
  );
};

export default Dashboard;
